{
  "id": "f0a0bd12-fa59-4266-8945-3f30ab85bf1c",
  "prevId": "830386d0-6ccb-400d-91b0-34ea47312788",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.activity_logs": {
      "name": "activity_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "agent_role": {
          "name": "agent_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "activity_logs_project_id_projects_id_fk": {
          "name": "activity_logs_project_id_projects_id_fk",
          "tableFrom": "activity_logs",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_statuses": {
      "name": "agent_statuses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agent_name": {
          "name": "agent_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "current_task": {
          "name": "current_task",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity": {
          "name": "last_activity",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "agent_statuses_project_id_projects_id_fk": {
          "name": "agent_statuses_project_id_projects_id_fk",
          "tableFrom": "agent_statuses",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_usage_events": {
      "name": "ai_usage_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_name": {
          "name": "agent_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gemini-2.5-pro'"
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "thinking_tokens": {
          "name": "thinking_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "input_cost_usd": {
          "name": "input_cost_usd",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "output_cost_usd": {
          "name": "output_cost_usd",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_cost_usd": {
          "name": "total_cost_usd",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "chapter_number": {
          "name": "chapter_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "operation": {
          "name": "operation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_usage_events_project_id_projects_id_fk": {
          "name": "ai_usage_events_project_id_projects_id_fk",
          "tableFrom": "ai_usage_events",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chapters": {
      "name": "chapters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_number": {
          "name": "chapter_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "needs_revision": {
          "name": "needs_revision",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "revision_reason": {
          "name": "revision_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "continuity_state": {
          "name": "continuity_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chapters_project_id_projects_id_fk": {
          "name": "chapters_project_id_projects_id_fk",
          "tableFrom": "chapters",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.continuity_snapshots": {
      "name": "continuity_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "synopsis": {
          "name": "synopsis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "character_states": {
          "name": "character_states",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "unresolved_threads": {
          "name": "unresolved_threads",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "world_state_changes": {
          "name": "world_state_changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "key_events": {
          "name": "key_events",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "continuity_snapshots_project_id_projects_id_fk": {
          "name": "continuity_snapshots_project_id_projects_id_fk",
          "tableFrom": "continuity_snapshots",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.extended_guides": {
      "name": "extended_guides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_file_name": {
          "name": "original_file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.imported_chapters": {
      "name": "imported_chapters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "manuscript_id": {
          "name": "manuscript_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_number": {
          "name": "chapter_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "edited_content": {
          "name": "edited_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changes_log": {
          "name": "changes_log",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "imported_chapters_manuscript_id_imported_manuscripts_id_fk": {
          "name": "imported_chapters_manuscript_id_imported_manuscripts_id_fk",
          "tableFrom": "imported_chapters",
          "tableTo": "imported_manuscripts",
          "columnsFrom": [
            "manuscript_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.imported_manuscripts": {
      "name": "imported_manuscripts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_file_name": {
          "name": "original_file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detected_language": {
          "name": "detected_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_language": {
          "name": "target_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'es'"
        },
        "total_chapters": {
          "name": "total_chapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "processed_chapters": {
          "name": "processed_chapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "parsing_errors": {
          "name": "parsing_errors",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_input_tokens": {
          "name": "total_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_output_tokens": {
          "name": "total_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_thinking_tokens": {
          "name": "total_thinking_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "series_id": {
          "name": "series_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "series_order": {
          "name": "series_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pseudonym_id": {
          "name": "pseudonym_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_word_count": {
          "name": "total_word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "continuity_snapshot": {
          "name": "continuity_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "continuity_analysis_status": {
          "name": "continuity_analysis_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "imported_manuscripts_series_id_series_id_fk": {
          "name": "imported_manuscripts_series_id_series_id_fk",
          "tableFrom": "imported_manuscripts",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "imported_manuscripts_pseudonym_id_pseudonyms_id_fk": {
          "name": "imported_manuscripts_pseudonym_id_pseudonyms_id_fk",
          "tableFrom": "imported_manuscripts",
          "tableTo": "pseudonyms",
          "columnsFrom": [
            "pseudonym_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_queue": {
      "name": "project_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'waiting'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_queue_project_id_projects_id_fk": {
          "name": "project_queue_project_id_projects_id_fk",
          "tableFrom": "project_queue",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "premise": {
          "name": "premise",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "genre": {
          "name": "genre",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'fantasy'"
        },
        "tone": {
          "name": "tone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'dramatic'"
        },
        "chapter_count": {
          "name": "chapter_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "has_prologue": {
          "name": "has_prologue",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_epilogue": {
          "name": "has_epilogue",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_author_note": {
          "name": "has_author_note",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "pseudonym_id": {
          "name": "pseudonym_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "style_guide_id": {
          "name": "style_guide_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extended_guide_id": {
          "name": "extended_guide_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "work_type": {
          "name": "work_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standalone'"
        },
        "series_id": {
          "name": "series_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "series_order": {
          "name": "series_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "current_chapter": {
          "name": "current_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revision_cycle": {
          "name": "revision_cycle",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_revision_cycles": {
          "name": "max_revision_cycles",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "final_review_result": {
          "name": "final_review_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "final_score": {
          "name": "final_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_input_tokens": {
          "name": "total_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_output_tokens": {
          "name": "total_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_thinking_tokens": {
          "name": "total_thinking_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "min_word_count": {
          "name": "min_word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "architect_instructions": {
          "name": "architect_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "projects_pseudonym_id_pseudonyms_id_fk": {
          "name": "projects_pseudonym_id_pseudonyms_id_fk",
          "tableFrom": "projects",
          "tableTo": "pseudonyms",
          "columnsFrom": [
            "pseudonym_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "projects_style_guide_id_style_guides_id_fk": {
          "name": "projects_style_guide_id_style_guides_id_fk",
          "tableFrom": "projects",
          "tableTo": "style_guides",
          "columnsFrom": [
            "style_guide_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "projects_extended_guide_id_extended_guides_id_fk": {
          "name": "projects_extended_guide_id_extended_guides_id_fk",
          "tableFrom": "projects",
          "tableTo": "extended_guides",
          "columnsFrom": [
            "extended_guide_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "projects_series_id_series_id_fk": {
          "name": "projects_series_id_series_id_fk",
          "tableFrom": "projects",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pseudonyms": {
      "name": "pseudonyms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_genre": {
          "name": "default_genre",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_tone": {
          "name": "default_tone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.queue_state": {
      "name": "queue_state",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'stopped'"
        },
        "current_project_id": {
          "name": "current_project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "auto_advance": {
          "name": "auto_advance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "skip_on_error": {
          "name": "skip_on_error",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "pause_after_each": {
          "name": "pause_after_each",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "queue_state_current_project_id_projects_id_fk": {
          "name": "queue_state_current_project_id_projects_id_fk",
          "tableFrom": "queue_state",
          "tableTo": "projects",
          "columnsFrom": [
            "current_project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reedit_audit_reports": {
      "name": "reedit_audit_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "audit_type": {
          "name": "audit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_range": {
          "name": "chapter_range",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "findings": {
          "name": "findings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reedit_audit_reports_project_id_reedit_projects_id_fk": {
          "name": "reedit_audit_reports_project_id_reedit_projects_id_fk",
          "tableFrom": "reedit_audit_reports",
          "tableTo": "reedit_projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reedit_chapters": {
      "name": "reedit_chapters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_number": {
          "name": "chapter_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "original_chapter_number": {
          "name": "original_chapter_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "edited_content": {
          "name": "edited_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "editor_score": {
          "name": "editor_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "editor_feedback": {
          "name": "editor_feedback",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "narrative_issues": {
          "name": "narrative_issues",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "copyeditor_changes": {
          "name": "copyeditor_changes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fluency_improvements": {
          "name": "fluency_improvements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_duplicate": {
          "name": "is_duplicate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "duplicate_of_chapter": {
          "name": "duplicate_of_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_out_of_order": {
          "name": "is_out_of_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "suggested_order": {
          "name": "suggested_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "processing_stage": {
          "name": "processing_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'none'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reedit_chapters_project_id_reedit_projects_id_fk": {
          "name": "reedit_chapters_project_id_reedit_projects_id_fk",
          "tableFrom": "reedit_chapters",
          "tableTo": "reedit_projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reedit_projects": {
      "name": "reedit_projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_file_name": {
          "name": "original_file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_project_id": {
          "name": "source_project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "detected_language": {
          "name": "detected_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_chapters": {
          "name": "total_chapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "processed_chapters": {
          "name": "processed_chapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_stage": {
          "name": "current_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'uploaded'"
        },
        "current_chapter": {
          "name": "current_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_activity": {
          "name": "current_activity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bestseller_score": {
          "name": "bestseller_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "final_review_result": {
          "name": "final_review_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "structure_analysis": {
          "name": "structure_analysis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "style_guide_id": {
          "name": "style_guide_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pseudonym_id": {
          "name": "pseudonym_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_input_tokens": {
          "name": "total_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_output_tokens": {
          "name": "total_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_thinking_tokens": {
          "name": "total_thinking_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_word_count": {
          "name": "total_word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "heartbeat_at": {
          "name": "heartbeat_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_requested": {
          "name": "cancel_requested",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_completed_chapter": {
          "name": "last_completed_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "expand_chapters": {
          "name": "expand_chapters",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "insert_new_chapters": {
          "name": "insert_new_chapters",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "target_min_words_per_chapter": {
          "name": "target_min_words_per_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2000
        },
        "expansion_plan": {
          "name": "expansion_plan",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "revision_cycle": {
          "name": "revision_cycle",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_review_cycles": {
          "name": "total_review_cycles",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "consecutive_high_scores": {
          "name": "consecutive_high_scores",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "previous_scores": {
          "name": "previous_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "non_perfect_final_reviews": {
          "name": "non_perfect_final_reviews",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "pause_reason": {
          "name": "pause_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pending_user_instructions": {
          "name": "pending_user_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "architect_instructions": {
          "name": "architect_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_issue_hashes": {
          "name": "resolved_issue_hashes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reedit_projects_source_project_id_projects_id_fk": {
          "name": "reedit_projects_source_project_id_projects_id_fk",
          "tableFrom": "reedit_projects",
          "tableTo": "projects",
          "columnsFrom": [
            "source_project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "reedit_projects_style_guide_id_style_guides_id_fk": {
          "name": "reedit_projects_style_guide_id_style_guides_id_fk",
          "tableFrom": "reedit_projects",
          "tableTo": "style_guides",
          "columnsFrom": [
            "style_guide_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "reedit_projects_pseudonym_id_pseudonyms_id_fk": {
          "name": "reedit_projects_pseudonym_id_pseudonyms_id_fk",
          "tableFrom": "reedit_projects",
          "tableTo": "pseudonyms",
          "columnsFrom": [
            "pseudonym_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reedit_world_bibles": {
      "name": "reedit_world_bibles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "characters": {
          "name": "characters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "locations": {
          "name": "locations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timeline": {
          "name": "timeline",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "lore_rules": {
          "name": "lore_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "historical_period": {
          "name": "historical_period",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "historical_details": {
          "name": "historical_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_from_chapters": {
          "name": "extracted_from_chapters",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reedit_world_bibles_project_id_reedit_projects_id_fk": {
          "name": "reedit_world_bibles_project_id_reedit_projects_id_fk",
          "tableFrom": "reedit_world_bibles",
          "tableTo": "reedit_projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.series": {
      "name": "series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_type": {
          "name": "work_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'trilogy'"
        },
        "total_planned_books": {
          "name": "total_planned_books",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "pseudonym_id": {
          "name": "pseudonym_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "series_guide": {
          "name": "series_guide",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "series_guide_file_name": {
          "name": "series_guide_file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "series_pseudonym_id_pseudonyms_id_fk": {
          "name": "series_pseudonym_id_pseudonyms_id_fk",
          "tableFrom": "series",
          "tableTo": "pseudonyms",
          "columnsFrom": [
            "pseudonym_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.series_arc_milestones": {
      "name": "series_arc_milestones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "series_id": {
          "name": "series_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "volume_number": {
          "name": "volume_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "milestone_type": {
          "name": "milestone_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_fulfilled": {
          "name": "is_fulfilled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "fulfilled_in_project_id": {
          "name": "fulfilled_in_project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fulfilled_in_chapter": {
          "name": "fulfilled_in_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "series_arc_milestones_series_id_series_id_fk": {
          "name": "series_arc_milestones_series_id_series_id_fk",
          "tableFrom": "series_arc_milestones",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "series_arc_milestones_fulfilled_in_project_id_projects_id_fk": {
          "name": "series_arc_milestones_fulfilled_in_project_id_projects_id_fk",
          "tableFrom": "series_arc_milestones",
          "tableTo": "projects",
          "columnsFrom": [
            "fulfilled_in_project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.series_arc_verifications": {
      "name": "series_arc_verifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "series_id": {
          "name": "series_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "volume_number": {
          "name": "volume_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "verification_date": {
          "name": "verification_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "overall_score": {
          "name": "overall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "milestones_checked": {
          "name": "milestones_checked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "milestones_fulfilled": {
          "name": "milestones_fulfilled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "threads_progressed": {
          "name": "threads_progressed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "threads_resolved": {
          "name": "threads_resolved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "findings": {
          "name": "findings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "recommendations": {
          "name": "recommendations",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "series_arc_verifications_series_id_series_id_fk": {
          "name": "series_arc_verifications_series_id_series_id_fk",
          "tableFrom": "series_arc_verifications",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "series_arc_verifications_project_id_projects_id_fk": {
          "name": "series_arc_verifications_project_id_projects_id_fk",
          "tableFrom": "series_arc_verifications",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.series_plot_threads": {
      "name": "series_plot_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "series_id": {
          "name": "series_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "thread_name": {
          "name": "thread_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "introduced_volume": {
          "name": "introduced_volume",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "introduced_chapter": {
          "name": "introduced_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_volume": {
          "name": "resolved_volume",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_chapter": {
          "name": "resolved_chapter",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "importance": {
          "name": "importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'major'"
        },
        "related_characters": {
          "name": "related_characters",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "progress_notes": {
          "name": "progress_notes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "series_plot_threads_series_id_series_id_fk": {
          "name": "series_plot_threads_series_id_series_id_fk",
          "tableFrom": "series_plot_threads",
          "tableTo": "series",
          "columnsFrom": [
            "series_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.style_guides": {
      "name": "style_guides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pseudonym_id": {
          "name": "pseudonym_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "style_guides_pseudonym_id_pseudonyms_id_fk": {
          "name": "style_guides_pseudonym_id_pseudonyms_id_fk",
          "tableFrom": "style_guides",
          "tableTo": "pseudonyms",
          "columnsFrom": [
            "pseudonym_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.thought_logs": {
      "name": "thought_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_id": {
          "name": "chapter_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_name": {
          "name": "agent_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agent_role": {
          "name": "agent_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thought_content": {
          "name": "thought_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "thought_logs_project_id_projects_id_fk": {
          "name": "thought_logs_project_id_projects_id_fk",
          "tableFrom": "thought_logs",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "thought_logs_chapter_id_chapters_id_fk": {
          "name": "thought_logs_chapter_id_chapters_id_fk",
          "tableFrom": "thought_logs",
          "tableTo": "chapters",
          "columnsFrom": [
            "chapter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.translations": {
      "name": "translations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reedit_project_id": {
          "name": "reedit_project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'original'"
        },
        "project_title": {
          "name": "project_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_language": {
          "name": "source_language",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_language": {
          "name": "target_language",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chapters_translated": {
          "name": "chapters_translated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_words": {
          "name": "total_words",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "markdown": {
          "name": "markdown",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "translations_project_id_projects_id_fk": {
          "name": "translations_project_id_projects_id_fk",
          "tableFrom": "translations",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "translations_reedit_project_id_reedit_projects_id_fk": {
          "name": "translations_reedit_project_id_reedit_projects_id_fk",
          "tableFrom": "translations",
          "tableTo": "reedit_projects",
          "columnsFrom": [
            "reedit_project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.world_bibles": {
      "name": "world_bibles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "timeline": {
          "name": "timeline",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "characters": {
          "name": "characters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "world_rules": {
          "name": "world_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "plot_outline": {
          "name": "plot_outline",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "plot_decisions": {
          "name": "plot_decisions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "persistent_injuries": {
          "name": "persistent_injuries",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "world_bibles_project_id_projects_id_fk": {
          "name": "world_bibles_project_id_projects_id_fk",
          "tableFrom": "world_bibles",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_reference": {
          "name": "chapter_reference",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_proposals": {
      "name": "chat_proposals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "proposal_type": {
          "name": "proposal_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_name": {
          "name": "target_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_content": {
          "name": "proposed_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_sessions": {
      "name": "chat_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reedit_project_id": {
          "name": "reedit_project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "agent_type": {
          "name": "agent_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chapter_number": {
          "name": "chapter_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "context_summary": {
          "name": "context_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_input_tokens": {
          "name": "total_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_output_tokens": {
          "name": "total_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}